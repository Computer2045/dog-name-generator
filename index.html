import React, { useState, useEffect } from 'react';
import { Sparkles, Dog, Zap, Heart, Shield, ChevronRight, PawPrint } from 'lucide-react';
import { Card } from '@/components/ui/card';

const ParticleRing = () => (
  <div className="absolute inset-0 flex items-center justify-center">
    <div className="w-64 h-64 rounded-full absolute bg-gradient-to-r from-violet-600/20 to-indigo-600/20 animate-spin-slow blur-xl" />
    <div className="w-56 h-56 rounded-full absolute bg-gradient-to-r from-fuchsia-600/20 to-pink-600/20 animate-spin-slow blur-xl" />
  </div>
);

const ButtonGlow = ({ color }) => (
  <div className={`absolute inset-0 rounded-lg ${color} blur-xl opacity-50 group-hover:opacity-100 transition-opacity duration-500`} />
);

const DogNameGenerator = () => {
  const [selectedCategory, setSelectedCategory] = useState(null);
  const [generatedName, setGeneratedName] = useState('');
  const [isGenerating, setIsGenerating] = useState(false);
  const [glowPosition, setGlowPosition] = useState({ x: 0, y: 0 });

  useEffect(() => {
    const handleMouseMove = (e) => {
      const x = e.clientX;
      const y = e.clientY;
      setGlowPosition({ x, y });
    };

    window.addEventListener('mousemove', handleMouseMove);
    return () => window.removeEventListener('mousemove', handleMouseMove);
  }, []);

  const dogNames = {
    cute: [
      'Sr. Pipoquinha', 'Don Algodão', 'Conde Marshmallow', 'Lord Brigadeiro',
      'Dr. Fofinho', 'Mestre Biscoito', 'Barão Paçoca', 'Duque Pudim',
      'Príncipe Nugget', 'Sir Bolinha', 'Rei Docinho', 'Marquês Nutella'
    ],
    powerful: [
      'Imperador Thor', 'Capitão Estrela', 'General Trovão', 'Mestre Cosmos',
      'Lord Relâmpago', 'Comandante Supernova', 'Marechal Furacão', 'Prof. Poder'
    ],
    hunter: [
      'Agente Farejador', 'Detetive Bigodes', 'Inspetor Patinha', 'Dr. Focinho',
      'Comandante Faro', 'Major Radar', 'Capitão Caçador', 'Xerife Rastro'
    ],
    loving: [
      'Dom Xodó', 'Sir Carinho', 'Lord Dengoso', 'Mestre Abraço',
      'Príncipe Amor', 'Conde Beijinho', 'Dr. Coração', 'Prof. Fofura'
    ],
    guardian: [
      'General Guardião', 'Capitão Escudo', 'Major Protetor', 'Comandante Vigília',
      'Marechal Sentinela', 'Lord Defensor', 'Sir Guardião', 'Dom Protetor'
    ]
  };

  const categories = [
    { id: 'cute', label: 'Fofinhos', icon: Sparkles, glow: 'bg-pink-500' },
    { id: 'powerful', label: 'Poderosos', icon: Zap, glow: 'bg-amber-500' },
    { id: 'hunter', label: 'Caçadores', icon: Dog, glow: 'bg-emerald-500' },
    { id: 'loving', label: 'Dengosos', icon: Heart, glow: 'bg-red-500' },
    { id: 'guardian', label: 'Protetores', icon: Shield, glow: 'bg-blue-500' }
  ];

  const generateName = () => {
    if (!selectedCategory) return;
    
    setIsGenerating(true);
    setGeneratedName('');
    
    setTimeout(() => {
      const names = dogNames[selectedCategory];
      const randomName = names[Math.floor(Math.random() * names.length)];
      setGeneratedName(randomName);
      setIsGenerating(false);
    }, 1000);
  };

  return (
    <div className="min-h-screen bg-black text-white flex items-center justify-center relative overflow-hidden p-4">
      {/* Animated background */}
      <div className="absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,_rgba(50,50,50,0.2),_rgba(0,0,0,0.9))]" />
      <ParticleRing />
      
      {/* Moving glow effect */}
      <div 
        className="pointer-events-none absolute bg-violet-500/30 blur-3xl rounded-full w-96 h-96 -z-10"
        style={{
          transform: `translate(${glowPosition.x - 192}px, ${glowPosition.y - 192}px)`,
          transition: 'transform 0.2s ease-out'
        }}
      />

      <Card className="max-w-2xl w-full bg-black/40 backdrop-blur-xl border border-white/10 p-8 relative z-10">
        <div className="flex items-center justify-center gap-2 mb-12">
          <PawPrint className="w-8 h-8 text-violet-500" />
          <h1 className="text-4xl font-bold bg-gradient-to-r from-violet-500 to-fuchsia-500 bg-clip-text text-transparent">
            Gerador de Nomes Premium
          </h1>
        </div>

        <div className="grid grid-cols-2 gap-4 mb-8">
          {categories.map((category) => {
            const Icon = category.icon;
            return (
              <button
                key={category.id}
                className={`group relative p-4 rounded-lg border transition-all duration-500
                          flex items-center justify-center gap-3 overflow-hidden
                          ${selectedCategory === category.id 
                            ? 'border-white/20 bg-white/10' 
                            : 'border-white/5 hover:border-white/20 bg-black/20'}`}
                onClick={() => setSelectedCategory(category.id)}
              >
                <ButtonGlow color={category.glow} />
                <Icon className={`w-5 h-5 transition-transform group-hover:scale-110 duration-500
                                ${selectedCategory === category.id ? 'text-white' : 'text-white/70'}`} />
                <span className="font-medium">{category.label}</span>
                <ChevronRight className={`w-4 h-4 transition-all duration-500
                                       ${selectedCategory === category.id ? 'opacity-100' : 'opacity-0 -translate-x-2'}`} />
              </button>
            );
          })}
        </div>

        <button
          className="relative w-full py-4 px-6 rounded-lg font-medium
                     bg-gradient-to-r from-violet-600 to-fuchsia-600
                     hover:from-violet-500 hover:to-fuchsia-500
                     transition-all duration-500 disabled:opacity-50
                     group overflow-hidden"
          onClick={generateName}
          disabled={!selectedCategory || isGenerating}
        >
          <div className="absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
          <span className="flex items-center justify-center gap-2">
            {isGenerating ? (
              <>
                <div className="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin" />
                Gerando...
              </>
            ) : (
              <>
                <Sparkles className="w-5 h-5" />
                Gerar Nome Mágico
              </>
            )}
          </span>
        </button>

        {generatedName && (
          <div className="mt-8 text-center relative">
            <div className="absolute inset-0 bg-gradient-to-r from-violet-500/20 to-fuchsia-500/20 blur-xl" />
            <div className="relative text-4xl font-bold bg-gradient-to-r from-violet-400 to-fuchsia-400 bg-clip-text text-transparent
                          animate-fade-up">
              ✨ {generatedName} ✨
            </div>
          </div>
        )}
      </Card>
    </div>
  );
};

export default DogNameGenerator;
